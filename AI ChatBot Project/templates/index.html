<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chatbot</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="{{ url_for('static', filename='index.css') }}">

</head>
<body>
        <header>
          <div class="logo-section">
            <img src="/static/logo-new-latest-2-2-scaled.jpg" alt="img">
          </div>
          <nav class="navbar navbar-expand-lg bg-body-tertiary">
            <div class="container-fluid">
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
              </button>
              <div class="collapse navbar-collapse" id="navbarNavDropdown">
                <ul class="navbar-nav">
                  <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="http://127.0.0.1:5000/">Home</a>
                  </li>
                  <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                      About us
                    </a>
                    <ul class="dropdown-menu">
                      <li><a class="dropdown-item" href="#">Action</a></li>
                      <li><a class="dropdown-item" href="#">Another action</a></li>
                      <li><a class="dropdown-item" href="#">Something else here</a></li>
                    </ul>
                  </li>
                  <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                      Departments
                    </a>
                    <ul class="dropdown-menu">
                      <li><a class="dropdown-item" href="#">Action</a></li>
                      <li><a class="dropdown-item" href="#">Another action</a></li>
                      <li><a class="dropdown-item" href="#">Something else here</a></li>
                    </ul>
                  </li>
                  <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                      Examination
                    </a>
                    <ul class="dropdown-menu">
                      <li><a class="dropdown-item" href="#">Action</a></li>
                      <li><a class="dropdown-item" href="#">Another action</a></li>
                      <li><a class="dropdown-item" href="#">Something else here</a></li>
                    </ul>
                  </li>
                  <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                      Life@CIT
                    </a>
                    <ul class="dropdown-menu">
                      <li><a class="dropdown-item" href="#">Action</a></li>
                      <li><a class="dropdown-item" href="#">Another action</a></li>
                      <li><a class="dropdown-item" href="#">Something else here</a></li>
                    </ul>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="#">Contact us</a>
                  </li>
                  <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                      BestPractices@CIT
                    </a>
                    <ul class="dropdown-menu">
                      <li><a class="dropdown-item" href="#">Action</a></li>
                      <li><a class="dropdown-item" href="#">Another action</a></li>
                      <li><a class="dropdown-item" href="#">Something else here</a></li>
                    </ul>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="#">Sports</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="#chatbot">Chat with CIT</a>
                  </li>
                </ul>
              </div>
            </div>
          </nav>
        </header>
        <main>
          <div id="carouselExampleSlidesOnly" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner">
              <div class="carousel-item active">
                <div class="carousel-overlay">
                  <img src="/static/admin-block-cit.jpg" class="d-block w-100" alt="...">
                  <div class="overlay-text">
                    <h1>Excellent Engineering Institute In Rural India</h1>
                    <button class="cit-cms">CIT CMS</button>
                  </div>
                </div>
              </div>
              <div class="carousel-item">
                
                  <img src="/static/cit2.jpg" class="d-block w-100" alt="...">
                
              </div>
              <div class="carousel-item">
                
                  <img src="/static/cit3.jpg" class="d-block w-100" alt="...">
                  
              </div>
            </div>
          </div>
          
        </main>
        <div class="section-2">
          <div class="why-cit">
            <h2>Why CIT</h2>
            <p>
              Welcome to Channabasaveswara Institute of Technology !
              
              
              CIT was established in the year 2001 with the objective of providing quality technical education. The institute is affiliated to Visvesvaraya Technological University, Belgaum, approved by All India Council for Technical Education (AICTE), New Delhi,with and Recognized by the Government of Karnataka. The institute is ISO 9001:2015 Certified and Accredited by the National Assessment and Accreditation Council  (NAAC). The Institute is located near Gubbi, Tumkur, ~ 80 KM from Bangalore on National Highway 206. The Campus spreads across 25.5 acres of lush green land with beautiful landscaping. The area enjoys a pleasant atmosphere throughout the year. Students and staff adore the meticulously maintained campus and welcoming natural surroundings which itself is an inspiration to learn and excel. Students from throughout the nation, from different cultures have chosen CIT as their destination for higher education. The set of shared attitudes, values, goals, and practices that characterizes an institution can be felt within minutes of entering the institute.</p>
          </div>
          <div class="chatbot" id="chatbot">
              <h1>Chat with CIT</h1>
              <div id="chat-history">
                  <div class="chat-message">ROBO:  {{ chatbot_response }}</div>
              </div>
              <input type="text" id="user-input" placeholder="Type your message here" />
              <button id="send-btn" onclick="sendMessage()">Send</button>
              <br><br>
              <a href="https://cdn.botpress.cloud/webchat/v2.2/shareable.html?configUrl=https://files.bpcontent.cloud/2024/12/04/14/20241204142033-AR9V3FTW.json
              "><button>Help</button></a>
              <a href="http://127.0.0.1:5500/templates/Feedback.html"><button>FeedBack</button></a>
          </div>
        </div>

    <script>
        function sendMessage() {
            let userInput = document.getElementById("user-input").value;
            if (userInput.trim() === "") {
                return;
            }

            // Display user's message
            let chatHistory = document.getElementById("chat-history");
            chatHistory.innerHTML += `<div class="chat-message">You: ${userInput}</div>`;

            // Send user input to the Flask API
            fetch('/api/chat', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ message: userInput })
            })
            .then(response => response.json())
            .then(data => {
                let botResponse = data.response || "Sorry, I didn't understand that.";
                chatHistory.innerHTML += `<div class="chat-message">ROBO: ${botResponse}</div>`;
            })
            .catch(error => {
                console.error('Error:', error);
                chatHistory.innerHTML += `<div class="chat-message">ROBO: Error while processing your request. Please try again later.</div>`;
            });

            // Clear the input field
            document.getElementById("user-input").value = "";
        }
    </script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>
